# Data Selection Plan
[← Back to Documentation Index](README.md)

1. **Сбор базовой статистики**
   - Запустить тестовый прогон моделей на текущем полном наборе данных.
   - Сохранить метрики (WER, CER), типы ошибок (замены, пропуски, вставки) и метаданные каждого аудиофрагмента (язык, говорящий, качество).
   - Убедиться, что у всех аудио есть корректные тексты и временная синхронизация.

2. **Грубая фильтрация данных**
   - Исключить записи с низким SNR, сильным фоном, повреждениями или искажениями.
   - Отбрасывать примеры с явными ошибками разметки или недоверенными транскрипциями.
   - Результатом должна быть чистая база для дальнейшего отбора.

3. **Построение профиля данных**
   - Разбить оставшиеся записи по ключевым признакам: тип домена (разговоры, лекции и т. д.), говорящий, акцент, язык.
   - Определить, какие сегменты наиболее похожи на целевой сценарий будущего использования модели.
   - Составить таблицу/матрицу распределения данных по этим признакам.

4. **Оценка по ошибкам**
   - Для каждого сегмента рассчитать средние метрики WER/CER.
   - Зафиксировать сегменты, где модель демонстрирует особенно высокие ошибки, и отметить, насколько они релевантны целевому сценарию.
   - Записывать примеры, где модель делает специфические типы ошибок.

5. **Определение приоритетных критериев отбора**
   - Релевантность: насколько аудио соответствует будущей задаче (тематика, стиль, оборудование).
   - Информативность: разнообразие акцентов, шумов и ситуаций, где текущая модель не справляется.
   - Качество разметки: минимальное количество ошибок в транскриптах и корректная синхронизация аудио-текста.

6. **Формирование набора в 8–10 часов**
   - Сформировать набор кандидатов (например, 15–20 часов), удовлетворяющих критериям качества и релевантности.
   - Удалить дубликаты, обеспечить равномерное распределение говорящих и доменов.
   - Установить порог WER (например, выбрать наименее удачные для модели сегменты, если они полезны).
   - Отобрать верхние 8–10 часов, где пересекаются высокая ошибка модели и важность данных.

7. **Финальный ручной просмотр**
   - Ручной контроль качества: проверить выбранные сегменты на наличие скрытых проблем и убедиться в корректности транскрипций.
   - Убедиться, что набор сбалансирован по говорящим, темам, шумам и другим ключевым признакам.
   - Подтвердить, что каждый фрагмент действительно полезен для файнтюнинга.

8. **Документация и контроль**
   - Задокументировать, почему выбран каждый сегмент: указать источник, ключевые признаки, средние метрики ошибок.
   - Выделить отдельную часть данных (например, 10–20% отобранных сегментов) для финальной валидации после файнтюнинга.
   - Подготовить список рекомендаций на будущее: какие дополнительные данные стоит собрать или проверить.

**Итог:** Выполнив все шаги, получим оптимальный набор аудио (8–10 часов) с высокой информативностью и качеством, способный существенно улучшить модель при файнтюнинге.
